            <header class="page-header">
                <h1>Admin</h1>
                <p class="page-subheader">Manage your account details.</p>
            </header><!-- .page-header -->

            <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.message}}</alert>

            <div class="box-white">
            
                <div class="row">
                
                	<div class="responsive-tab-content">
                    
                    	<!-- Nav Tabs -->
                        <tabset id="adminTabContent" justified="true">

                        <tab>
                            <tab-heading class="space-nowrap">
                                <span class="dlicons-office"></span> Practice
                            </tab-heading>
                            <!-- Practice Tab -->
                            <div id="admintabPractice">
                                <form edit-form="practice.address" id="formPracticeTab" name="practiceForm">
                                    <div class="block-title">
                                        <h2>Practice</h2>
                                        <button type="button" access="admin" toggle-edit class="btn btn-orange btn-toggle btn-edit" data-toggle="tooltip" data-placement="top" title="Edit this section"><span class="dlicons-pencil"></span></button>
                                        <button type="button" ng-click="addAddress()" class="btn btn-green btn-toggle-shifted btn-edit hide" data-toggle="tooltip" data-placement="top" title="Add practice address"><span class="dlicons-plus"></span></button>
                                        <button type="button" ng-click='savePractice(practiceForm)' class="btn btn-green btn-toggle btn-save hide" data-toggle="tooltip" data-placement="top" title="Save changes"><span class="dlicons-check"></span></button>
                                    </div>

                                    <div id="sectPractice">
                                        <div class="section-block">

                                            <div class="row">
                                                <div class="input-block col-sm-12">
                                                    <input type="text" class="form-control data1" ng-model="practice.name" placeholder="Enter practice name &hellip;" value="Tooth Care Dental Clinic" ng-disabled="true">
                                                    <label class="hidden">Practice name</label>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="section-block" ng-repeat="address in practice.addresses">

                                            <div class="row">
                                                <div class="input-block col-sm-6">
                                                    <input type="text" class="form-control" ng-class="{data1: !address.new}" ng-model="address.street_line_1" placeholder="Enter street address &hellip;" ng-disabled="!address.new">
                                                    <label ng-class="{hidden:!address.new}">Street address</label>
                                                </div>

                                                <div class="input-block col-xs-2">
                                                    <input type="text" class="form-control" ng-class="{data1: !address.new}" ng-model="address.city" placeholder="Enter town / city &hellip;"  ng-disabled="!address.new">
                                                    <label ng-class="{hidden:!address.new}">Town / City</label>
                                                </div>

                                                <div class="input-block col-xs-2">
                                                    <input type="text" class="form-control" ng-class="{data1: !address.new}" ng-model="address.state" placeholder="Enter state &hellip;" ng-disabled="!address.new">
                                                    <label ng-class="{hidden:!address.new}">State</label>
                                                </div>

                                                <div class="input-block col-xs-2">
                                                    <input type="text" class="form-control" ng-class="{data1: !address.new}" ng-model="address.zip" placeholder="Enter ZIP code &hellip;" ng-disabled="!address.new">
                                                    <label ng-class="{hidden:!address.new}">ZIP code</label>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="input-block col-sm-6">
                                                    <input type="tel" class="form-control" ng-class="{data1: !address.new}" ng-model="address.phone" placeholder="{{PhoneFormatter.UI_PLACEHOLDER}}" ui-mask="{{PhoneFormatter.MASK}}" ng-disabled="!address.new">
                                                    <label ng-class="{hidden:!address.new}">Phone number</label>
                                                </div>

                                                <div class="input-block col-sm-4 website-block">
                                                    <input type="text" class="form-control" ng-class="{data1: !address.new}" ng-model="address.website" placeholder="Enter website address &hellip;"  ng-disabled="!address.new">
                                                    <label ng-class="{hidden:!address.new}">Website</label>
                                                </div>

                                                <div class="input-block col-xs-2" >
                                                    <!--<button type="button" class="btn btn-danger" ng-click="removeAddress(address)" ng-class="{hidden:!address.new}"><span class="dlicons-remove"></span> Remove</button>-->
                                                    <div access="admin" delete-button class="button-block btn-delete" ng-if="practice.addresses.length > 1">
                                                        <span class="dlicons-remove"></span> Delete? <a ng-click="removeAddress(address)" class="link-green">Yes</a> | <a class="link-orange">No</a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--.section-block-->

                                    </div>
                                </form>
                            </div>

                        </tab>

                        <tab>
                            <tab-heading class="space-nowrap">
                                <span class="dlicons-group"></span> Users
                            </tab-heading>
                            <!-- Users Tab -->
                            <div id="admintabUsers">
                                <div class="block-title">
                                    <h2>Users</h2>
                                    <button access="admin" type="button" ng-click="usersDialog()" class="btn btn-orange btn-toggle btn-toggle-modal-user" data-toggle="tooltip" data-placement="top" title="Add a New User" data-target="#modalUser"><span class="dlicons-user-add"></span></button>
                                </div>

                                <div id="sectUsers" class="section-block">
                                    <div class="table-wrapper">
                                        <div class="table-container">
                                            <table class="table table-hover table-striped">
                                                <thead>
                                                <tr>
                                                    <th class="cell-user">Name</th>
                                                    <th class="cell-username">Email</th>
                                                    <th class="cell-role">Role</th>
                                                    <th class="cell-created">Created on</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr  ng-repeat="user in practice.users.concat(invitedUsers)">
                                                    <td class="cell-user">{{user.first_name}} {{user.middle_initial}} {{user.last_name}}</td>
                                                    <td class="cell-username">{{user.email}}</td>
                                                    <td class="cell-role">
                                                        <span>{{roleName(user.is_admin, user.roles_mask)}}</span>

                                                    </td>
                                                    <td class="cell-created">
                                                        <div ng-if="user.email != auth.email" access="admin" delete-button class="button-block btn-delete">
                                                            <span class="dlicons-remove"></span> Delete this user? <a ng-click="deleteUser(user)" class="link-green">Yes</a> | <a  class="link-orange">No</a>
                                                        </div>
                                                        <div ng-click="editDialog(user)" ng-hide="user.status || (!auth.is_admin && auth.email != user.email)" class="button-block btn-change-password">
                                                            <span class="dlicons-pencil" title="Change Password"></span>
                                                        </div>
                                                        <span class="create-date">{{user.created_at | date: 'mediumDate'}}&nbsp;</span>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div><!-- .table-container -->
                                    </div><!-- .table-wrapper -->
                                </div><!-- .section-block -->

                            </div>
                        </tab>
                        <tab>
                            <tab-heading class="space-nowrap">
                                <span class="dlicons-user-add"></span> Invite Colleague

                            </tab-heading>
                            <!-- Invite Tab -->
                            <div id="admintabInvite">
                                <div class="block-title">
                                    <h2>Invite Colleague</h2>
                                    <button type="button" ng-click="inviteDialog()" class="btn btn-orange btn-toggle btn-toggle-modal-provider" data-toggle="tooltip" data-placement="top" title="Invite a New Provider" data-target="#modalProvider"><span class="dlicons-user-add"></span></button>
                                </div>
                                <alert type="warning" style="overflow: hidden;">
                                    <button type="button" style="float: right; margin-left: 15px;" ng-click="securityCodeDialog()" class="btn btn-green">Generate Security Code</button>
                                    <span>If a doctor from your practice gets invited to Dental Links, you will need to provide them security code to join and use this account. Use this button to generate security code.</span>
                                </alert>


                                <div id="sectInvite" class="section-block">
                                    <div class="table-wrapper">
                                        <div class="table-container">
                                            <table class="table table-hover table-striped">
                                                <thead>
                                                <tr>
                                                    <th class="cell-provider">Provider's Name</th>
                                                    <th class="cell-practice">Practice Name</th>
                                                    <th class="cell-invited">Invited on</th>
                                                    <th class="cell-status">Status</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="provider in invitedColleagues">
                                                    <td class="cell-provider">{{provider.title}} {{provider.first_name}} {{provider.middle_initial}} {{provider.last_name}}</td>
                                                    <td class="cell-practice">{{provider.registered_user.practice.name}}</td>
                                                    <td class="cell-invited">{{provider.created_at | date: 'mediumDate'}}</td>
                                                    <td class="cell-status">
                                                        <div access="admin" delete-button class="button-block btn-delete" ng-hide="provider.status === 'registered'">
                                                            <span class="dlicons-remove"></span> Delete this invitation? <a ng-click="deleteProviderInvitation(provider)" class="link-green">Yes</a> | <a class="link-orange">No</a>
                                                        </div>
                                                        <span class="label" ng-class="{'label-success': provider.status == 'registered', 'label-info' : provider.status == 'invited'}">{{provider.status}}</span>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div><!-- .table-container -->
                                    </div><!-- .table-wrapper -->

                                </div><!-- .section-block -->

                            </div>
                        </tab>

                            <tab>
                                <tab-heading class="space-nowrap">
                                    <span class="dlicons-user"></span> Subscription
                                </tab-heading>
                                <!-- Subscription Tab -->
                                <div id="admintabAccount" >
                                    <p>
                                        <alert ng-hide="practice.stripe_customer_id" type="{{alert.type}}">It is always free to send referrals but you will need a premium membership to receive referrals after {{trial_end_date | date: 'short'}}. You can upgrade at any time in the account settings.</alert>

                                        <form edit-form id="formAccountTab" name="accountForm">
                                            <div class="block-title">
                                                <h2>Subscription</h2>
                                            </div>

                                            <div id="descriptionText" class="section-block">
                                                Premium accounts are $49.95 per month.
                                            </div>


                                            <div access="admin" ng-hide="practice.stripe_customer_id" id="sectUpgrade" class="section-block">
                                                <button access="admin" type="button" class="btn btn-primary" ng-click="upgradeDialog()"> Upgrade to Premium Account</button>
                                            </div>

                                            <div ng-show="practice.stripe_customer_id" id="sectEditPayment" class="section-block">
                                                <button type="button" class="btn btn-primary" ng-click="upgradeDialog()"> Edit Payment Information</button>

                                                <button access="admin" type="button" class="btn btn-primary" ng-click="cancelSubscription()"> Cancel Subscription</button>
                                            </div>

                                            <div ng-show="practice.stripe_customer_id" id="sectPayment" class="section-block">
                                                <h3>Payment Information (Premium)</h3>
                                                Your account number: ************{{practice.last_4_digits}}
                                            </div>

                                        </form>
                                    </p>

                                    <p class="col-sm-6" style="font-size: 150%;">Help all your referring doctors become HIPAA compliant when they refer patients to you electronically.</p>
                                    <p class="col-sm-6" style="font-size: 150%;">It is always free to send referrals. To received referrals, you need to upgrade to a premium account.</p>

                                    <p>
                                        <img src="/img/upgrade-reasons-visual.png" alt="Dental Links - reasons for upgrade" style="width: 100%; padding: 2em;"/>
                                    </p>


                                </div>

                            </tab>

                    </tabset>

                        
                    </div><!-- .responsive-tab-content -->
                    
                </div><!-- .row -->
                
            </div><!-- .box-white -->
